<div class="row">

    <div class="col-md-12">
        <div class="card card-user">
            <div class="card-header">
                <h5 *ngIf="!editButton" class="card-title">Add Task</h5>
                <h5 *ngIf="editButton" class="card-title">Edit Task</h5>
            </div>
            <div class="card-body">
                <form [formGroup]="taskForm" (ngSubmit)="taskFormFunc()">
                    <div *ngIf="!editButton">
                        <div class="row">

                            <div class="col-md-6 pr-1">
                                <div class="form-group">
                                    <label>User</label>
                                    <select class="form-control" formControlName="userId">
                                        <option *ngFor="let user of users" [value]="user.id">{{user.name}}</option>
                                    </select>
                                    <!-- <input type="number" class="form-control" placeholder="Enter User ID"
                                        formControlName="userId"> -->
                                    <p *ngIf="taskForm.get('userId')?.invalid && !taskForm.get('userId').hasError('required') && submittaskForm"
                                        style="color: red; font-size: 11px;"> Please enter valid userId</p>
                                    <p *ngIf="taskForm.get('userId').hasError('required')  && submittaskForm"
                                        style="color: red; font-size: 11px;">userId field is required</p>
                                </div>
                            </div>
                            <div class="col-md-6 pl-1">
                                <div class="form-group">
                                    <label>Title</label>
                                    <input type="text" class="form-control" placeholder="Enter Title"
                                        formControlName="title">
                                    <p *ngIf="!taskForm.get('title').hasError('required') && taskForm.get('title')?.invalid && submittaskForm"
                                        style="color: red; font-size: 11px;"> Title must have 3 letters or more</p>
                                    <p *ngIf="taskForm.get('title').hasError('required')  && submittaskForm"
                                        style="color: red; font-size: 11px;">title field is required</p>


                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6 pr-1">
                                <div class="form-group">
                                    <label>Description</label>
                                    <input type="text" class="form-control" placeholder="Enter Description"
                                        formControlName="desc">
                                    <p *ngIf="!taskForm.get('desc').hasError('required') && taskForm.get('desc')?.invalid && submittaskForm"
                                        style="color: red; font-size: 11px;">Desc must have 10 letters or more</p>
                                    <p *ngIf="taskForm.get('desc').hasError('required')  && submittaskForm"
                                        style="color: red; font-size: 11px;">desc field is required</p>
                                </div>
                            </div>
                            <div class="col-md-6 pl-1">
                                <div class="form-group">
                                    <label>Priority</label>
                                    <select formControlName="priority"
                                        class="form-control">
                                        <option value="Low" selected>Low</option>
                                        <option value="Medium">Medium</option>
                                        <option value="High">High</option>
                                    </select>
                                    <p *ngIf="!taskForm.get('priority').hasError('required') && taskForm.get('priority')?.invalid && submittaskForm"
                                        style="color: red; font-size: 11px;">Please enter valid time</p>
                                    <p *ngIf="taskForm.get('priority').hasError('required')  && submittaskForm"
                                        style="color: red; font-size: 11px;">priority field is required</p>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6 pr-1">
                                <div class="form-group">
                                    <label>From</label>
                                    <input type="date" class="form-control" placeholder="Enter No. of Leaves"
                                        formControlName="taskStartFrom">
                                    <p *ngIf="!taskForm.get('taskStartFrom').hasError('required') && taskForm.get('taskStartFrom')?.invalid && submittaskForm"
                                        style="color: red; font-size: 11px;">Start Date must be from today or later </p>
                                    <p *ngIf="taskForm.get('taskStartFrom').hasError('required')  && submittaskForm"
                                        style="color: red; font-size: 11px;">Start Date is required</p>
                                </div>
                            </div>
                            <div class="col-md-6 pl-1">
                                <div class="form-group">
                                    <label>To</label>
                                    <input type="date" class="form-control" placeholder="Enter No. of Leaves"
                                        formControlName="taskEndTo">
                                    <p *ngIf="!taskForm.get('taskEndTo').hasError('required') && taskForm.get('taskEndTo')?.invalid && submittaskForm"
                                        style="color: red; font-size: 11px;">Start Date must be from today or later </p>
                                    <p *ngIf="taskForm.get('taskEndTo').hasError('required')  && submittaskForm"
                                        style="color: red; font-size: 11px;">End Date field is required</p>
                                </div>
                            </div>
                        </div>
                        <!-- <div class="row">
                            <div class="col-md-6 pr-1">
                                <div class="form-group">
                                    <label>Status</label>
                                    <select (change)="onChangeStatus($event,data)" formControlName="status"
                                        class="form-control">
                                        <option value="TO DO" selected>To Do</option>
                                        <option value="QA">QA</option>
                                        <option value="DONE">Done</option>
                                    </select>
                                    <p *ngIf="!taskForm.get('status').hasError('required') && taskForm.get('status')?.invalid && submittaskForm"
                                        style="color: red; font-size: 11px;">Please enter valid status</p>
                                    <p *ngIf="taskForm.get('status').hasError('required')  && submittaskForm"
                                        style="color: red; font-size: 11px;">Status field is required</p>
                                </div>
                            </div>
                        </div> -->
                    </div>
                    <div *ngIf="editButton">
                        <div class="row">
                            <div class="col-md-6 pr-1">
                                <div class="form-group">
                                    <label>User ID</label>
                                    <input type="number" class="form-control" placeholder="Enter No. of Leaves"
                                        formControlName="userId">
                                    <p *ngIf="taskForm.get('userId')?.invalid && !taskForm.get('userId').hasError('required') && submittaskForm"
                                        style="color: red; font-size: 11px;"> Please enter valid userId</p>
                                    <p *ngIf="taskForm.get('userId').hasError('required')  && submittaskForm"
                                        style="color: red; font-size: 11px;">userId field is required</p>
                                </div>
                            </div>
                            <div class="col-md-6 pl-1">
                                <div class="form-group">
                                    <label>Title</label>
                                    <input type="text" class="form-control" placeholder="Enter No. of Leaves"
                                        formControlName="title">
                                    <p *ngIf="!taskForm.get('title').hasError('required') && taskForm.get('title')?.invalid && submittaskForm"
                                        style="color: red; font-size: 11px;"> Title must have 3 letters or more</p>
                                    <p *ngIf="taskForm.get('title').hasError('required')  && submittaskForm"
                                        style="color: red; font-size: 11px;">title field is required</p>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6 pr-1">
                                <div class="form-group">
                                    <label>Description</label>
                                    <input type="text" class="form-control" placeholder="Enter No. of Leaves"
                                        formControlName="desc">
                                    <p *ngIf="!taskForm.get('desc').hasError('required') && taskForm.get('desc')?.invalid && submittaskForm"
                                        style="color: red; font-size: 11px;">Desc must have 10 letters or more</p>
                                    <p *ngIf="taskForm.get('desc').hasError('required')  && submittaskForm"
                                        style="color: red; font-size: 11px;">desc field is required</p>
                                </div>
                            </div>
                            <div class="col-md-6 pl-1">
                                <div class="form-group">
                                    <label>Priority</label>
                                    <select  formControlName="priority"
                                        class="form-control">
                                        <option value="Low" selected>Low</option>
                                        <option value="Medium">Medium</option>
                                        <option value="High">High</option>
                                    </select>
                                    <p *ngIf="!taskForm.get('priority').hasError('required') && taskForm.get('priority')?.invalid && submittaskForm"
                                        style="color: red; font-size: 11px;">Please choose priority</p>
                                    <p *ngIf="taskForm.get('priority').hasError('required')  && submittaskForm"
                                        style="color: red; font-size: 11px;">priority field is required</p>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6 pr-1">
                                <div class="form-group">
                                    <label>From</label>
                                    <input type="date" class="form-control" placeholder="Enter No. of Leaves"
                                        formControlName="taskStartFrom">
                                    <p *ngIf="!taskForm.get('taskStartFrom').hasError('required') && taskForm.get('taskStartFrom')?.invalid && submittaskForm"
                                        style="color: red; font-size: 11px;">Start Date must be from today or later</p>
                                    <p *ngIf="taskForm.get('taskStartFrom').hasError('required')  && submittaskForm"
                                        style="color: red; font-size: 11px;">Start Date field is required</p>
                                </div>
                            </div>
                            <div class="col-md-6 pl-1">
                                <div class="form-group">
                                    <label>To</label>
                                    <input type="date" class="form-control" placeholder="Enter No. of Leaves"
                                        formControlName="taskEndTo">
                                    <p *ngIf="!taskForm.get('taskEndTo').hasError('required') && taskForm.get('taskEndTo')?.invalid && submittaskForm"
                                        style="color: red; font-size: 11px;">End Date must be from today or later</p>
                                    <p *ngIf="taskForm.get('taskEndTo').hasError('required')  && submittaskForm"
                                        style="color: red; font-size: 11px;">End Date field is required</p>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6 pr-1">
                                <div class="form-group">
                                    <label>Status</label>
                                    <select (change)="onChangeStatus($event,data)" formControlName="status"
                                        class="form-control">
                                        <option value="TO DO">To Do</option>
                                        <option value="QA">QA</option>
                                        <option value="DONE">Done</option>
                                    </select>
                                    <p *ngIf="!taskForm.get('status').hasError('required') && taskForm.get('status')?.invalid && submittaskForm"
                                        style="color: red; font-size: 11px;">Please choose status</p>
                                    <p *ngIf="taskForm.get('status').hasError('required')  && submittaskForm"
                                        style="color: red; font-size: 11px;">Status field is required</p>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="row">
                        <div class="update ml-auto mr-auto">
                            <button *ngIf="!editButton" (click)="showNotification('top','right')" userId="submit"
                                class="btn ">Add Task</button>
                            <button *ngIf="editButton" (click)="showNotification('top','right')" userId="submit"
                                class="btn ">Edit
                                Task</button>
                        </div>
                    </div>
                </form>

            </div>
        </div>
    </div>
</div>